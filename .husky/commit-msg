# Read the commit message
commit_message=$(cat "$1")

# Check if the commit message starts with a valid type, followed by a scope in parentheses, a colon, and a space
if ! echo "$commit_message" | grep -Eq '^(feat|fix|hotfix|chore|test)\([a-z-]+\): .+'; then
  echo "Error: Invalid commit message format."
  echo "Expected format: <type>(<scope>): <subject>"
  echo "Example: feat(authentication): add login functionality"
  exit 1
fi

# Check that the subject starts with an uppercase letter
if ! echo "$commit_message" | grep -Eq '^[a-z]+\([a-z-]+\): [A-Z]'; then
  echo "Error: The subject must start with an uppercase letter."
  exit 1
fi